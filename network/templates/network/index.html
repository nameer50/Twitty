{% extends "network/layout.html" %}
{% load static %}

{% block body %}

<form class="input-group mb-3" id="post-form">

  <button type="submit" class="btn btn-outline-secondary" type="button" id="share">Share</button>
  <input required type="text" class="form-control" placeholder="Whats on your mind?" id="post-text">
</form>

<div id="all-posts">
    {% for post in posts %}
    <div class="card">
        <div class="card-header">
          <a href="{% url 'profile' post.user_post %}">{{post.user_post}}</a>
          <br>
          {{post.time}}
        </div>
        <div class="card-body">
          <h5 class="card-title">{{post.post}}</h5>
        
          {% if post.id in liked %}
          <button class="btn btn-primary" id="unlike" data-post="{{post.id}}">Unlike: {{post.likes}}</button>
          {% else %}
          <button class="btn btn-primary" id="like" data-post="{{post.id}}">Like: {{post.likes}}</button>
          {% endif %}          
          <button class="btn btn-primary">Comment</button>
          {% if user.username == post.user_post %}
          <button class="btn btn-secondary" id="edit" data-post="{{post.id}}">Edit</button>
          {% endif %}
          <form class="mb-3" id="edit-form" style="display: none;">
            <textarea class="form-control" id="edit-text" rows="3"></textarea>
            <button class="btn btn-primary" id="edit-submit" data-post="{{post.id}}" type="submit">Save</button>
          </form>
        </div>
      </div>
    {% endfor %}
</div>

{% endblock %}



{% block script %}
    <script src="{% static 'network/posts.js' %}"></script>
{% endblock %}